{% comment %}
  Section: Treadmills category (Custom)
  - 3 circular category items per row (desktop & mobile)
  - Each block: image, label, link
  - Background color configurable
{% endcomment %}

<section id="shopify-section-{{ section.id }}" class="treadmills-category-custom">
  {% style %}
    .treadmills-category-custom {
      margin: 0;
      padding: 0;
    }

    .pdp-treadmills-category-wrapper {
      background: {{ section.settings.background_color }};
      text-align: center;
      padding: 0px 0 32px ;
    }

    .pdp-treadmills-category-inner {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    .pdp-treadmills-category-heading {
      margin: 0 0 24px;
      font-family: "Barlow Condensed", var(--font-heading-family, inherit);
      font-size: 32px;
      line-height: 1.1;
      font-weight: 700;
    }

    .pdp-treadmills-category-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 40px;
    }

    .pdp-treadmills-category-card {
      flex: 0 0 calc(33.333% - 40px);
      max-width: 180px;
      text-align: center;
    }

    .pdp-treadmills-category-link {
      display: inline-block;
      text-decoration: none;
      color: inherit;
      font-family: "Barlow Condensed", var(--font-heading-family, inherit);
    }

    .pdp-treadmills-category-image-wrapper {
      width: 130px;
      height: 130px;
      margin: 0 auto 12px;
      background: #fff;
      border-radius: 50%;
      overflow: hidden;
      border: 3px solid #9d2227;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .pdp-treadmills-category-image-wrapper img {
      width: 100px;
      height: 100px;
      object-fit: contain;
      display: block;
    }

    .pdp-treadmills-category-text {
      font-size: 16px;
      font-weight: 800;
      letter-spacing: 0.03em;
        text-transform: uppercase;
    }

    .section--treadmills-category-custom{padding:0px; padding-bottom:20px;}

    /* Keep 3 items per row on smaller screens (option C) */
    @media screen and (max-width: 749px) {
      .pdp-treadmills-category-container {
        gap: 14px;
      }
      .pdp-treadmills-category-card {
        flex: 0 0 25%;
        max-width: none;
      }
      .pdp-treadmills-category-image-wrapper {
        width: 70px;
        height: 70px;
      }
      .pdp-treadmills-category-image-wrapper img {
        width: 50px;
        height: 50px;
      }
      .pdp-treadmills-category-text {
        font-size: 12px;
        font-weight: 600;
        letter-spacing: 0.03em;
        line-height: 14px;
        text-transform: uppercase;
}
.pdp-treadmills-category-wrapper {
    margin-top: -20px;
}
    }
  {% endstyle %}

  <div class="pdp-treadmills-category-wrapper">
    <div class="pdp-treadmills-category-inner">
      {% if section.settings.title != blank %}
        <h2 class="pdp-treadmills-category-heading">
          {{ section.settings.title }}
        </h2>
      {% endif %}

      <div class="pdp-treadmills-category-container">
        {% for block in section.blocks %}
          <div class="pdp-treadmills-category-card" {{ block.shopify_attributes }}>
            {% assign block_link = block.settings.link %}
            {% if block_link != blank %}
              <a href="{{ block_link }}" class="pdp-treadmills-category-link">
            {% else %}
              <div class="pdp-treadmills-category-link">
            {% endif %}

              <div class="pdp-treadmills-category-image-wrapper">
                {% if block.settings.image != blank %}
                  {{-
                    block.settings.image
                    | image_url: width: 200, height: 200, crop: 'center'
                    | image_tag:
                      loading: 'lazy',
                      alt: block.settings.image_alt | default: block.settings.title | escape
                  -}}
                {% else %}
                  {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
                {% endif %}
              </div>

              {% if block.settings.title != blank %}
                <div class="pdp-treadmills-category-text">
                  {{ block.settings.title }}
                </div>
              {% endif %}

            {% if block_link != blank %}
              </a>
            {% else %}
              </div>
            {% endif %}
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Custom category List",
  "tag": "section",
  "class": "section section--treadmills-category-custom",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Heading",
      "default": "Treadmills"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#f0f0f0"
    }
  ],
  "blocks": [
    {
      "type": "category",
      "name": "Category item",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "image_alt",
          "label": "Image alt text"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Category name",
          "default": "Category Name"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Category link"
        }
      ]
    }
  ],
  "max_blocks": 12,
  "presets": [
    {
      "name": "Custom category List",
      "category": "Collection"
    }
  ]
}
{% endschema %}
