{%- comment -%}
  ResellerRatings Full Reviews Widget
  Complete review display with submission form
  Replaces BazaarVoice reviews block
  
  Parameters:
  - product: Product object
{%- endcomment -%}

{%- if settings.resellerratings_enabled -%}
  <!-- ResellerRatings Reviews Display -->
  <div id="RR_PR_Reviews_Wrapper" role="region" aria-label="Customer reviews"></div>

  <!-- Optional inline display frame -->
  <div id="RR_PR_Frame_Wrapper" role="complementary" aria-label="Review ratings"></div>

  <!-- ResellerRatings Widget JavaScript -->
  <div id="RR_PR_Widget_Wrapper"></div>
  {%- assign variant = product.first_available_variant -%}
  <script>
    let variantskus = [];
    {% for product_variant in product.variants %}
    variantskus.push({
      sku: "{{ product_variant.sku }}",
      name: "{{ product.title }}",
      gtin: "{{ product_variant.barcode }}",
      img: "{{ product.featured_media.preview_image | image_url: width: 500 }}",
      url: "https://soletreadmills.com{{ product.url }}",
      parent_id: "{{ product.id }}"
    });
    {% endfor %}

    var __RRPRWidget_Settings = {
      name: "{{ product.title }}",
      sku: "{{ variant.sku }}",
      gtin: "{{ variant.barcode }}",
      img: "{{ product.featured_media.preview_image | image_url: width: 500 }}",
      url: "https://soletreadmills.com{{ product.url }}",
      parent_id: "{{ product.id }}",
      products: variantskus
    };
  </script>

  <script defer src="https://www.resellerratings.com/productreviews/widget/app/Sole_Fitness.js?sku={{ variant.sku }}"></script>
{%- endif -%}